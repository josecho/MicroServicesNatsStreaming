(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{1905:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/[ticketId]",function(){return r(9567)}])},6471:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});var n=r(7568),s=r(1799),c=r(655),u=r(5893),i=r(9669),a=r.n(i),o=r(7294);function d(t){var e=t.url,r=t.method,i=t.body,d=t.onSuccess,l=(0,o.useState)(null),h=l[0],f=l[1],p=function(){var t=(0,n.Z)((function(){var t,n,o,l=arguments;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:t=l.length>0&&void 0!==l[0]?l[0]:{},c.label=1;case 1:return c.trys.push([1,3,,4]),f(null),[4,a()[r](e,(0,s.Z)({},i,t))];case 2:return n=c.sent(),d&&d(n.data),[2,n.data];case 3:return o=c.sent(),f((0,u.jsxs)("div",{className:"alert alert-danger",children:[(0,u.jsx)("h4",{children:"Ooops...."}),(0,u.jsx)("ul",{className:"my-0",children:o.response.data.errors.map((function(t){return(0,u.jsx)("li",{children:t.message},t.message)}))})]})),[3,4];case 4:return[2]}}))}));return function(){return t.apply(this,arguments)}}();return{doRequest:p,errors:h}}},9567:function(t,e,r){"use strict";r.r(e);var n=r(7568),s=r(655),c=r(5893),u=r(1163),i=r.n(u),a=r(6471),o=function(t){var e=t.ticket,r=(0,a.Z)({url:"/api/orders",method:"post",body:{ticketId:e.id},onSuccess:function(t){return i().push("/orders/[orderId]","/orders/".concat(t.id))}}),n=r.doRequest,s=r.errors;return(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{children:e.title}),(0,c.jsxs)("h4",{children:["Price: ",e.price]}),s,(0,c.jsx)("button",{onClick:function(){return n()},className:"btn btn-primary",children:"Purchase"})]})};o.getInitialProps=function(){var t=(0,n.Z)((function(t,e){var r;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return r=t.query.ticketId,[4,e.get("/api/tickets/".concat(r))];case 1:return[2,{ticket:n.sent().data}]}}))}));return function(e,r){return t.apply(this,arguments)}}(),e.default=o},1163:function(t,e,r){t.exports=r(387)}},function(t){t.O(0,[774,888,179],(function(){return e=1905,t(t.s=e);var e}));var e=t.O();_N_E=e}]);