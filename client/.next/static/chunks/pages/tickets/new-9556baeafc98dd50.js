(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{9766:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/new",function(){return r(2876)}])},6471:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(7568),s=r(1799),u=r(655),a=r(5893),c=r(9669),i=r.n(c),o=r(7294);function l(e){var n=e.url,r=e.method,c=e.body,l=e.onSuccess,d=(0,o.useState)(null),f=d[0],h=d[1],p=function(){var e=(0,t.Z)((function(){var e,t,o,d=arguments;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e=d.length>0&&void 0!==d[0]?d[0]:{},u.label=1;case 1:return u.trys.push([1,3,,4]),h(null),[4,i()[r](n,(0,s.Z)({},c,e))];case 2:return t=u.sent(),l&&l(t.data),[2,t.data];case 3:return o=u.sent(),h((0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("h4",{children:"Ooops...."}),(0,a.jsx)("ul",{className:"my-0",children:o.response.data.errors.map((function(e){return(0,a.jsx)("li",{children:e.message},e.message)}))})]})),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return{doRequest:p,errors:f}}},2876:function(e,n,r){"use strict";r.r(n);var t=r(5893),s=r(7294),u=r(1163),a=r.n(u),c=r(6471);n.default=function(){var e=(0,s.useState)(""),n=e[0],r=e[1],u=(0,s.useState)(""),i=u[0],o=u[1],l=(0,c.Z)({url:"/api/tickets",method:"post",body:{title:n,price:i},onSuccess:function(){return a().push("/")}}),d=l.doRequest,f=l.errors;return(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Create a Ticket"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Title"}),(0,t.jsx)("input",{value:n,onChange:function(e){return r(e.target.value)},className:"form-control"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Price"}),(0,t.jsx)("input",{value:i,onBlur:function(){var e=parseFloat(i);isNaN(e)||o(e.toFixed(2))},onChange:function(e){return o(e.target.value)},className:"form-control"})]}),f,(0,t.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}},1163:function(e,n,r){e.exports=r(387)}},function(e){e.O(0,[774,888,179],(function(){return n=9766,e(e.s=n);var n}));var n=e.O();_N_E=n}]);